<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- generated by pizzadoc on Sat Jul 22 13:23:18 GMT+02:00 2000 -->
<title>
public interface zeta.session.Adaptor
</title>
</head>
<body bgcolor=FFFFFF>
<a name="_top_"></a>
<code><font size=-1>
[<a href="index.html">all packages</a>] 
[<a href="zeta.session.html">package zeta.session</a>] 
[<a href="tree-pd.html">class hierarchy</a>] 
[<a href="names-pd.html">index</a>] 
</font></code>
<hr>
<h1>public interface zeta.session.Adaptor</h1>
(source file: Adaptor.pizza)<br>
<pre>
<a href="http://java.sun.com:80/products/jdk/1.1/docs/api/java.lang.Object.html">java.lang.Object</a>
   |
   +----zeta.session.Adaptor
</pre>
<hr>
<a href="zeta.session.Adaptor.interface.html">The pure class interface.</a>
<pre>
public interface <a href="zeta.session.Adaptor.html">Adaptor</a>
</pre>
<dl>
  <dd> 
 The type of tool adaptors.
<p></dd>
  <dd><dl><dt></dt>
    <dt> <b>Author:</b></dt>
      <dd> Wolfgang Grieskamp (wg@cs.tu-berlin.de)</dd>
    <dt> <b>Version:</b> $Id: Adaptor.pizza,v 1.8 2000/05/16 08:10:47 wg Exp $</dt>
  </dl></dd>
</dl>
<hr>
<p><h2><img src="p-images/method-index.gif" alt="Methods"></h2>
<dl>
  <dt><img src="p-images/red-ball-small.gif" alt="O ">  <b><a href="zeta.session.Adaptor.html#checkExternalData()">checkExternalData</a></b>()
    <dd>
 Tell the adaptor to update any assumptions about data
 of external tools
  <dt><img src="p-images/red-ball-small.gif" alt="O ">  <b><a href="zeta.session.Adaptor.html#computedTypes()">computedTypes</a></b>()
    <dd>
 Return the content types which this adaptor can in principle compute.
  <dt><img src="p-images/red-ball-small.gif" alt="O ">  <b><a href="zeta.session.Adaptor.html#flush()">flush</a></b>()
    <dd>
 Flush internal persistent data of the adaptor
  <dt><img src="p-images/red-ball-small.gif" alt="O ">  <b><a href="zeta.session.Adaptor.html#getName()">getName</a></b>()
    <dd>
 Get a unique (short) name of this tool adaptor
  <dt><img src="p-images/red-ball-small.gif" alt="O ">  <b><a href="zeta.session.Adaptor.html#initialize(Session, StorageHandle)">initialize</a></b>(Session, StorageHandle)
    <dd>
 Initialize a newly created instance of this adaptor for the given
 session
  <dt><img src="p-images/red-ball-small.gif" alt="O ">  <b><a href="zeta.session.Adaptor.html#isUptodate(Target, Date)">isUptodate</a></b>(Target, Date)
    <dd>
 Check if the specified target which was defined at date by this
 adaptor is up-to-date
  <dt><img src="p-images/red-ball-small.gif" alt="O ">  <b><a href="zeta.session.Adaptor.html#lookupUnit(Name)">lookupUnit</a></b>(Name)
    <dd>
 Lookup a unit by a (partial) unit name
  <dt><img src="p-images/red-ball-small.gif" alt="O ">  <b><a href="zeta.session.Adaptor.html#notifyOutdate(Target, Date, StorageHandle)">notifyOutdate</a></b>(Target, Date, StorageHandle)
    <dd>
 Called to notify the adaptor that the specified target which was
 defined at date by this 
  <dt><img src="p-images/red-ball-small.gif" alt="O ">  <b><a href="zeta.session.Adaptor.html#tryCompute(Target)">tryCompute</a></b>(Target)
    <dd>
 Try to run the adaptor to compute the specified content
  <dt><img src="p-images/red-ball-small.gif" alt="O ">  <b><a href="zeta.session.Adaptor.html#unitLocator(Unit)">unitLocator</a></b>(Unit)
    <dd>
 Ask the adaptor to return a locator which can be used to
 visit the source of the given unit
</dl>
<p><h2><img src="p-images/methods.gif" alt="Methods"></h2>
<img src="p-images/red-ball.gif" alt="O "> <a name="getName"></a><a name="getName()"></a><b>getName</b><br>
<pre>
public abstract <a href="zeta.util.Name.html">Name</a> getName();
</pre>
<dl>
  <dd> 
 Get a unique (short) name of this tool adaptor.  The name is used in
 unit names and for looking up adaptors. The name must
 not contain spaces.
<p></dd>
  <dd><dl><dt></dt>
    <dt> <b>See also:</b></dt>
      <dd> <a href="zeta.session.Session.html#lookupUnit">lookupUnit</a>, <a href="zeta.session.Session.html#lookupAdaptor">lookupAdaptor</a></dd>
  </dl></dd>
</dl>
<p>
<img src="p-images/red-ball.gif" alt="O "> <a name="initialize"></a><a name="initialize(Session, StorageHandle)"></a><b>initialize</b><br>
<pre>
public abstract void initialize(<a href="zeta.session.Session.html">Session</a> session,
                                <a href="zeta.session.StorageHandle.html">StorageHandle</a> handle);
</pre>
<dl>
  <dd> 
 Initialize a newly created instance of this adaptor for the given
 session.  The passed storage handle may be used to store
 persistent data of the adaptor. It is fixed from session to
 session. If the adaptor is initialized the first time for a project,
 the object loaded from the handle will be null. <p>
 <p></dd>
  <dd><dl><dt></dt>
  </dl></dd>
</dl>
<p>
<img src="p-images/red-ball.gif" alt="O "> <a name="flush"></a><a name="flush()"></a><b>flush</b><br>
<pre>
public abstract void flush();
</pre>
<dl>
  <dd> 
 Flush internal persistent data of the adaptor.  Flush is, e.g., called
 before the session is terminated to allow the adaptor to store persistend
 data.<p></dd>
  <dd><dl><dt></dt>
  </dl></dd>
</dl>
<p>
<img src="p-images/red-ball.gif" alt="O "> <a name="lookupUnit"></a><a name="lookupUnit(Name)"></a><b>lookupUnit</b><br>
<pre>
public abstract <a href="zeta.session.Unit.html">Unit</a> lookupUnit(<a href="zeta.util.Name.html">Name</a> specifier)
  throws <a href="zeta.session.Failures.html#UnresolvableName">zeta.session.Failures.UnresolvableName</a>, <a href="zeta.session.Failures.html#AmbigiousName">zeta.session.Failures.AmbigiousName</a>;
</pre>
<dl>
  <dd> 
 Lookup a unit by a (partial) unit name.  This method applies to adaptors
 that create new units (source adaptors).  Adaptors that only compute
 content types from existing units/contents (function adaptors) can
 throw <code>Failures.UnresolvableName</code>.

 The partial name has the syntax

 <pre>
  [TOOL:]toolspecificname
 </pre>

 If <code>TOOL</code> is present, then it is guaranteed to be the
 name of this adaptor. <code>toolspeficname</code> may be
 a partial name, which is going to be completed by the adaptor. <p>

 If the adaptor creates a new unit during lookup, this unit should
 be given a full name, consisting of the <code>TOOL</code> part
 and a complete <code>toolspecificname</code>.
<p></dd>
  <dd><dl><dt></dt>
    <dt> <b>Throws:</b></dt>
    <dd><dl>
      <dt><b><a href="Failures.UnresolvableName.html">Failures.UnresolvableName</a></b> - a unit of the given
 partial name does not exists in this adaptor.</dt>
      <dt><b><a href="Failures.AmbigiousName.html">Failures.AmbigiousName</a></b> - there are several possibilities
 to complete this name to a full unit name in this adaptor.
</dt>
      </dl><dd>
    <dt> <b>See also:</b></dt>
      <dd> <a href="zeta.session.Session.html#lookupUnit ">lookupUnit </a>, <a href="zeta.session.Session.html#getOrCreateUnit ">getOrCreateUnit </a></dd>
  </dl></dd>
</dl>
<p>
<img src="p-images/red-ball.gif" alt="O "> <a name="computedTypes"></a><a name="computedTypes()"></a><b>computedTypes</b><br>
<pre>
public abstract <a href="zeta.session.ContentType.html">ContentType</a>[] computedTypes();
</pre>
<dl>
  <dd> 
 Return the content types which this adaptor can in principle compute.<p></dd>
  <dd><dl><dt></dt>
  </dl></dd>
</dl>
<p>
<img src="p-images/red-ball.gif" alt="O "> <a name="tryCompute"></a><a name="tryCompute(Target)"></a><b>tryCompute</b><br>
<pre>
public abstract void tryCompute(<a href="zeta.session.Target.html">Target</a> target)
  throws <a href="zeta.session.Failures.html#CannotCompute">zeta.session.Failures.CannotCompute</a>, <a href="zeta.session.Failures.html#ComputationFailed">zeta.session.Failures.ComputationFailed</a>;
</pre>
<dl>
  <dd> 
 Try to run the adaptor to compute the specified content.  If
 the method succeeds (doesn't throws) it is expected that the given
 content is up-to-date. <p>

 This method checks if the target, given by a unit and a
 content type, can be computed, and if so, computes
 it. Computability of contents in general depends on two
 conditions:

 <UL>
 <LI> for the given unit, the content type can be computed. 
    (It is guaranteed by the
    caller that the content type is among those reported by this
    adaptor by its method <code>computedTypes</code>.)
 <LI> contents of other units required for this computation can
    be sucessfully queried from the session system.
 </UL>

 Depending on the kind of the adaptor, these conditions are usally
 implemented as follows:

 <UL> 


 <LI> if this is a pure <em>Source Adaptor</em>, which imports units
 from external data, the adaptor checks whether the given unit has
 once been created by itself (which was done via the method
 <code>lookupUnit</code>). So the computability check solely
 depends on whether this is a unit originating from this adaptor
 (recall that its guaranteed that the content type is
 computable by this adaptor.)

 <LI> if this is a pure <em>Function Adaptor</em>, which transforms
 contents into contents, the adaptor recursively queries the session system
 for the unit contents it depends from. So the computability check
 solely depends on whether dependencies can be resolved.

 </UL>

 Between these antipodes, mixtures of behaviour are possible. <p>
<p></dd>
  <dd><dl><dt></dt>
    <dt> <b>Throws:</b></dt>
    <dd><dl>
      <dt><b><a href="Failures.CannotCompute.html">Failures.CannotCompute</a></b> -
    this exception is thrown if the adaptor cannot compute
    the specified contents -- for reasons as described above.
    If the session system catches this exception from an adaptor,
    it tries other adaptors if they can handle the target. 
      </dt>
      <dt><b><a href="Failures.ComputationFailed.html">Failures.ComputationFailed</a></b> -
    this exception is thrown if a
    computation, though in principle possible, failed because of
    user level errros. The errors are expected to be reported by
    the adaptor using the session message system. 
    If the session system catches this exception from an adaptor,
    it aborts computing this target and targets involving this target.
    </dt>
      </dl><dd>
    <dt> <b>See also:</b></dt>
      <dd> <a href="zeta.session.Session.html#query">query</a>, <a href="zeta.session.Unit.html#define ">define </a>, <a href="zeta.session.Message
.html">Message
</a></dd>
  </dl></dd>
</dl>
<p>
<img src="p-images/red-ball.gif" alt="O "> <a name="isUptodate"></a><a name="isUptodate(Target, Date)"></a><b>isUptodate</b><br>
<pre>
public abstract boolean isUptodate(<a href="zeta.session.Target.html">Target</a> target,
                                   <a href="http://java.sun.com:80/products/jdk/1.1/docs/api/java.util.Date.html">Date</a> definedAt);
</pre>
<dl>
  <dd> 
 Check if the specified target which was defined at date by this
 adaptor is up-to-date. The check doesn't needs to consider
 registered dependencies; these are treated automatically. Thus
 returning false here makes only sense if the computation of the
 adaptor was based on hidden dependencies, such as e.g. 
 data of external tools.  
<p></dd>
  <dd><dl><dt></dt>
    <dt> <b>See also:</b></dt>
      <dd> <a href="zeta.session.Unit.html#isUptodate ">isUptodate </a>, <a href="zeta.session.Unit.html#define ">define </a></dd>
  </dl></dd>
</dl>
<p>
<img src="p-images/red-ball.gif" alt="O "> <a name="notifyOutdate"></a><a name="notifyOutdate(Target, Date, StorageHandle)"></a><b>notifyOutdate</b><br>
<pre>
public abstract boolean notifyOutdate(<a href="zeta.session.Target.html">Target</a> target,
                                      <a href="http://java.sun.com:80/products/jdk/1.1/docs/api/java.util.Date.html">Date</a> definedAt,
                                      <a href="zeta.session.StorageHandle.html">StorageHandle</a> handle);
</pre>
<dl>
  <dd> 
 Called to notify the adaptor that the specified target which was
 defined at date by this adaptor has been outdated and is not
 longer needed by the session system. The persistent storage
 handle of the content is passed to the adaptor, for possible
 internal reusage. If the method returns true, the session manager
 supposes the storage is reused, otherwise it frees the storage
 after calling this method. <p>

 Adaptors which don't implement reusage of the result of former
 computations return false here.  
<p></dd>
  <dd><dl><dt></dt>
    <dt> <b>See also:</b></dt>
      <dd> <a href="zeta.session.Unit.html#outdate ">outdate </a></dd>
  </dl></dd>
</dl>
<p>
<img src="p-images/red-ball.gif" alt="O "> <a name="checkExternalData"></a><a name="checkExternalData()"></a><b>checkExternalData</b><br>
<pre>
public abstract void checkExternalData();
</pre>
<dl>
  <dd> 
 Tell the adaptor to update any assumptions about data
 of external tools. This method is always called before
 a sequence of <code>isUptodate</code>, <code>tryCompute</code>
 and <code>isUptodate</code> calls which should solve a top-level user
 query. It is also called before the session gets idle to wait for the
 next user action. <p>

 An adaptor may use this method to calculate the "up-to-date"
 information about external data in adavance for each
 interactive query. The up-to-date check could be equally made
 by each individual call to <code>isUptodate</code>, but this
 might be too expansive, e.g. if up-to-date checking means
 polling the state of file modification stamps.<p>
<p></dd>
  <dd><dl><dt></dt>
  </dl></dd>
</dl>
<p>
<img src="p-images/red-ball.gif" alt="O "> <a name="unitLocator"></a><a name="unitLocator(Unit)"></a><b>unitLocator</b><br>
<pre>
public abstract <a href="zeta.session.Locator.html">Locator</a> unitLocator(<a href="zeta.session.Unit.html">Unit</a> unit);
</pre>
<dl>
  <dd> 
 Ask the adaptor to return a locator which can be used to
 visit the source of the given unit. Returns <code>null</code>
 if the adaptor does not knows how to visit this unit.
 The session system contacts the adaptors to return this
 information in some arbitrary order until the first
 returns non-null.<p></dd>
  <dd><dl><dt></dt>
  </dl></dd>
</dl>
<p>
<hr>
<code><font size=-1>
[<a href="index.html">all packages</a>] 
[<a href="zeta.session.html">package zeta.session</a>] 
[<a href="tree-pd.html">class hierarchy</a>] 
[<a href="names-pd.html">index</a>] 
</font></code>
<h6>zeta.session.Adaptor.html</h6>
</body>
</html>
