(* Created by ZETA HOL-Z adaptor v1.0 *)

ZAbsy.ZSection("LTX:SessionManager#root",["LTX:Toolkit#Toolkit", "LTX:Basics#root"],
[(ZAbsy.SchemaText([ZAbsy.Direct(["RegistSessionInformation"], ZAbsy.NameAppl("_fun_",[ZAbsy.Product([ZAbsy.NameAppl("USER_ID",[]), ZAbsy.NameAppl("SESSION_TABLE",[]), ZAbsy.NameAppl("finset_",[ZAbsy.NameAppl("SESSION_ID",[])])]),ZAbsy.NameAppl("SESSION_ID",[])]))], [ZAbsy.Quantor(ZAbsy.Forall, [ZAbsy.Direct(["uid"], ZAbsy.NameAppl("USER_ID",[])), ZAbsy.Direct(["ssn_tbl"], ZAbsy.NameAppl("SESSION_TABLE",[])), ZAbsy.Direct(["ssn_IDs"], ZAbsy.NameAppl("finset_",[ZAbsy.NameAppl("SESSION_ID",[])]))], [], ZAbsy.Test(ZAbsy.Tuple([ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("RegistSessionInformation",[]),ZAbsy.Tuple([ZAbsy.NameAppl("uid",[]), ZAbsy.NameAppl("ssn_tbl",[]), ZAbsy.NameAppl("ssn_IDs",[])])), ZAbsy.Cond(ZAbsy.Test(ZAbsy.Tuple([ZAbsy.NameAppl("uid",[]), ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("dom",[]),ZAbsy.NameAppl("ssn_tbl",[]))]), ZAbsy.NameAppl("_in_",[])), ZAbsy.NameAppl("SAME_USER_ERR",[]), ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("new",[]),ZAbsy.NameAppl("ssn_IDs",[])))]), ZAbsy.NameAppl("_=_",[])))])),
(ZAbsy.SchemaText([ZAbsy.Direct(["FreeSessionInformation"], ZAbsy.NameAppl("_fun_",[ZAbsy.Product([ZAbsy.NameAppl("SESSION_ID",[]), ZAbsy.NameAppl("SESSION_TABLE",[])]),ZAbsy.Product([ZAbsy.NameAppl("LOGOUT_RESULT",[]), ZAbsy.NameAppl("SESSION_TABLE",[])])]))], [ZAbsy.Quantor(ZAbsy.Forall, [ZAbsy.Direct(["sid"], ZAbsy.NameAppl("SESSION_ID",[])), ZAbsy.Direct(["ssn_tbl"], ZAbsy.NameAppl("SESSION_TABLE",[]))], [], ZAbsy.Test(ZAbsy.Tuple([ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("FreeSessionInformation",[]),ZAbsy.Tuple([ZAbsy.NameAppl("sid",[]), ZAbsy.NameAppl("ssn_tbl",[])])), ZAbsy.Cond(ZAbsy.Test(ZAbsy.Tuple([ZAbsy.NameAppl("sid",[]), ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("dom",[]),ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("bigcup",[]),ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("ran",[]),ZAbsy.NameAppl("ssn_tbl",[]))))]), ZAbsy.NameAppl("_in_",[])), ZAbsy.Tuple([ZAbsy.NameAppl("session_terminated",[]), ZAbsy.Quantor(ZAbsy.Set,[ZAbsy.Direct(["uid"], ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("dom",[]),ZAbsy.NameAppl("ssn_tbl",[])))], [ZAbsy.Test(ZAbsy.Tuple([ZAbsy.NameAppl("sid",[]), ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("dom",[]),ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("ssn_tbl",[]),ZAbsy.NameAppl("uid",[])))]), ZAbsy.NameAppl("_notin_",[]))],ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("_mapsto_",[]),ZAbsy.Tuple([ZAbsy.NameAppl("uid",[]), ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("ssn_tbl",[]),ZAbsy.NameAppl("uid",[]))])))]), ZAbsy.Tuple([ZAbsy.NameAppl("invalid_session_id_err",[]), ZAbsy.NameAppl("ssn_tbl",[])]))]), ZAbsy.NameAppl("_=_",[])))])),
(ZAbsy.SchemaText([ZAbsy.Direct(["choose"], ZAbsy.NameAppl("_fun_",[ZAbsy.Unary(ZAbsy.Power,ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("_setminus_",[]),ZAbsy.Tuple([ZAbsy.NameAppl("USER_ID",[]), ZAbsy.Display([ZAbsy.NameAppl("NO_USER",[])])]))),ZAbsy.NameAppl("USER_ID",[])]))], [ZAbsy.Quantor(ZAbsy.Forall, [ZAbsy.Direct(["X"], ZAbsy.Unary(ZAbsy.Power,ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("_setminus_",[]),ZAbsy.Tuple([ZAbsy.NameAppl("USER_ID",[]), ZAbsy.Display([ZAbsy.NameAppl("NO_USER",[])])]))))], [], ZAbsy.Binary(ZAbsy.Implies,ZAbsy.Test(ZAbsy.Tuple([ZAbsy.NameAppl("X",[]), ZAbsy.Display([])]), ZAbsy.NameAppl("_neq_",[])), ZAbsy.Test(ZAbsy.Tuple([ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("choose",[]),ZAbsy.NameAppl("X",[])), ZAbsy.NameAppl("X",[])]), ZAbsy.NameAppl("_in_",[]))))])),
(ZAbsy.SchemaText([ZAbsy.Direct(["CheckValidofSession"], ZAbsy.NameAppl("_fun_",[ZAbsy.Product([ZAbsy.NameAppl("SESSION_ID",[]), ZAbsy.NameAppl("ACCESS_TYPE",[]), ZAbsy.NameAppl("SESSION_TABLE",[])]),ZAbsy.Product([ZAbsy.NameAppl("USER_ID",[]), ZAbsy.NameAppl("SESSION_TABLE",[])])]))], [ZAbsy.Quantor(ZAbsy.Forall, [ZAbsy.Direct(["sid"], ZAbsy.NameAppl("SESSION_ID",[])), ZAbsy.Direct(["acc_typ"], ZAbsy.NameAppl("ACCESS_TYPE",[])), ZAbsy.Direct(["ssn_tbl"], ZAbsy.NameAppl("SESSION_TABLE",[]))], [], ZAbsy.Test(ZAbsy.Tuple([ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("CheckValidofSession",[]),ZAbsy.Tuple([ZAbsy.NameAppl("sid",[]), ZAbsy.NameAppl("acc_typ",[]), ZAbsy.NameAppl("ssn_tbl",[])])), ZAbsy.Cond(ZAbsy.Test(ZAbsy.Tuple([ZAbsy.NameAppl("sid",[]), ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("dom",[]),ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("bigcup",[]),ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("ran",[]),ZAbsy.NameAppl("ssn_tbl",[]))))]), ZAbsy.NameAppl("_in_",[])), ZAbsy.Cond(ZAbsy.Test(ZAbsy.Tuple([ZAbsy.NameAppl("acc_typ",[]), ZAbsy.NameAppl("read_prikey",[])]), ZAbsy.NameAppl("_=_",[])), ZAbsy.Cond(ZAbsy.Test(ZAbsy.Tuple([ZAbsy.NameAppl("accept_read_prikey",[]), ZAbsy.Quantor(ZAbsy.Set,[ZAbsy.Direct(["uid"], ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("dom",[]),ZAbsy.NameAppl("ssn_tbl",[])))], [ZAbsy.Test(ZAbsy.Tuple([ZAbsy.NameAppl("sid",[]), ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("dom",[]),ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("ssn_tbl",[]),ZAbsy.NameAppl("uid",[])))]), ZAbsy.NameAppl("_in_",[]))],ZAbsy.Select(ZAbsy.Binary(ZAbsy.Apply,ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("ssn_tbl",[]),ZAbsy.NameAppl("uid",[])),ZAbsy.NameAppl("sid",[])), ZAbsy.NameAppl("pkra",[]), ZAbsy.Type(ZAbsy.Signature([("pkra",ZAbsy.NameAppl("PRI_KEY_READ_ACCESS",[])), ("slwa",ZAbsy.NameAppl("SIG_LOG_WRITE_ACCESS",[]))]))))]), ZAbsy.NameAppl("_notin_",[])), ZAbsy.Tuple([ZAbsy.NameAppl("NO_USER",[]), ZAbsy.NameAppl("ssn_tbl",[])]), ZAbsy.Quantor(ZAbsy.Let,[ZAbsy.Eqn("uid", ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("choose",[]),ZAbsy.Quantor(ZAbsy.Set,[ZAbsy.Direct(["uid"], ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("dom",[]),ZAbsy.NameAppl("ssn_tbl",[])))], [ZAbsy.Test(ZAbsy.Tuple([ZAbsy.NameAppl("sid",[]), ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("dom",[]),ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("ssn_tbl",[]),ZAbsy.NameAppl("uid",[])))]), ZAbsy.NameAppl("_in_",[]))],ZAbsy.NameAppl("uid",[]))),ZAbsy.Type(ZAbsy.Product([ZAbsy.NameAppl("Prelude_SUM",[]), ZAbsy.Unary(ZAbsy.Power,ZAbsy.NameAppl("VALID_USER_ID",[])), ZAbsy.Unary(ZAbsy.Power,ZAbsy.NameAppl("UNIT",[]))])))], [],ZAbsy.Tuple([ZAbsy.NameAppl("uid",[]), ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("_oplus_",[]),ZAbsy.Tuple([ZAbsy.NameAppl("ssn_tbl",[]), ZAbsy.Display([ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("_mapsto_",[]),ZAbsy.Tuple([ZAbsy.NameAppl("uid",[]), ZAbsy.Display([ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("_mapsto_",[]),ZAbsy.Tuple([ZAbsy.NameAppl("sid",[]), ZAbsy.Binding([ZAbsy.Eqn("pkra", ZAbsy.NameAppl("refuse_read_prikey",[]),ZAbsy.Type(ZAbsy.NameAppl("PRI_KEY_READ_ACCESS",[]))), ZAbsy.Eqn("slwa", ZAbsy.Select(ZAbsy.Binary(ZAbsy.Apply,ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("ssn_tbl",[]),ZAbsy.NameAppl("uid",[])),ZAbsy.NameAppl("sid",[])), ZAbsy.NameAppl("slwa",[]), ZAbsy.Type(ZAbsy.Signature([("pkra",ZAbsy.NameAppl("PRI_KEY_READ_ACCESS",[])), ("slwa",ZAbsy.NameAppl("SIG_LOG_WRITE_ACCESS",[]))]))),ZAbsy.Type(ZAbsy.NameAppl("SIG_LOG_WRITE_ACCESS",[])))])]))])]))])]))]))), ZAbsy.Cond(ZAbsy.Test(ZAbsy.Tuple([ZAbsy.NameAppl("acc_typ",[]), ZAbsy.NameAppl("write_siglog",[])]), ZAbsy.NameAppl("_=_",[])), ZAbsy.Cond(ZAbsy.Test(ZAbsy.Tuple([ZAbsy.NameAppl("accept_write_siglog",[]), ZAbsy.Quantor(ZAbsy.Set,[ZAbsy.Direct(["uid"], ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("dom",[]),ZAbsy.NameAppl("ssn_tbl",[])))], [ZAbsy.Test(ZAbsy.Tuple([ZAbsy.NameAppl("sid",[]), ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("dom",[]),ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("ssn_tbl",[]),ZAbsy.NameAppl("uid",[])))]), ZAbsy.NameAppl("_in_",[]))],ZAbsy.Select(ZAbsy.Binary(ZAbsy.Apply,ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("ssn_tbl",[]),ZAbsy.NameAppl("uid",[])),ZAbsy.NameAppl("sid",[])), ZAbsy.NameAppl("slwa",[]), ZAbsy.Type(ZAbsy.Signature([("pkra",ZAbsy.NameAppl("PRI_KEY_READ_ACCESS",[])), ("slwa",ZAbsy.NameAppl("SIG_LOG_WRITE_ACCESS",[]))]))))]), ZAbsy.NameAppl("_notin_",[])), ZAbsy.Tuple([ZAbsy.NameAppl("NO_USER",[]), ZAbsy.NameAppl("ssn_tbl",[])]), ZAbsy.Quantor(ZAbsy.Let,[ZAbsy.Eqn("uid", ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("choose",[]),ZAbsy.Quantor(ZAbsy.Set,[ZAbsy.Direct(["uid"], ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("dom",[]),ZAbsy.NameAppl("ssn_tbl",[])))], [ZAbsy.Test(ZAbsy.Tuple([ZAbsy.NameAppl("sid",[]), ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("dom",[]),ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("ssn_tbl",[]),ZAbsy.NameAppl("uid",[])))]), ZAbsy.NameAppl("_in_",[]))],ZAbsy.NameAppl("uid",[]))),ZAbsy.Type(ZAbsy.Product([ZAbsy.NameAppl("Prelude_SUM",[]), ZAbsy.Unary(ZAbsy.Power,ZAbsy.NameAppl("VALID_USER_ID",[])), ZAbsy.Unary(ZAbsy.Power,ZAbsy.NameAppl("UNIT",[]))])))], [],ZAbsy.Tuple([ZAbsy.NameAppl("uid",[]), ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("_oplus_",[]),ZAbsy.Tuple([ZAbsy.NameAppl("ssn_tbl",[]), ZAbsy.Display([ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("_mapsto_",[]),ZAbsy.Tuple([ZAbsy.NameAppl("uid",[]), ZAbsy.Display([ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("_mapsto_",[]),ZAbsy.Tuple([ZAbsy.NameAppl("sid",[]), ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("first",[]),ZAbsy.Tuple([ZAbsy.Binary(ZAbsy.Apply,ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("ssn_tbl",[]),ZAbsy.NameAppl("uid",[])),ZAbsy.NameAppl("sid",[])), ZAbsy.NameAppl("refuse_write_siglog",[])]))]))])]))])]))]))), ZAbsy.Cond(ZAbsy.Test(ZAbsy.Tuple([ZAbsy.NameAppl("acc_typ",[]), ZAbsy.NameAppl("read_siglog",[])]), ZAbsy.NameAppl("_=_",[])), ZAbsy.Quantor(ZAbsy.Let,[ZAbsy.Eqn("uid", ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("choose",[]),ZAbsy.Quantor(ZAbsy.Set,[ZAbsy.Direct(["uid"], ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("dom",[]),ZAbsy.NameAppl("ssn_tbl",[])))], [ZAbsy.Test(ZAbsy.Tuple([ZAbsy.NameAppl("sid",[]), ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("dom",[]),ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("ssn_tbl",[]),ZAbsy.NameAppl("uid",[])))]), ZAbsy.NameAppl("_in_",[]))],ZAbsy.NameAppl("uid",[]))),ZAbsy.Type(ZAbsy.Product([ZAbsy.NameAppl("Prelude_SUM",[]), ZAbsy.Unary(ZAbsy.Power,ZAbsy.NameAppl("VALID_USER_ID",[])), ZAbsy.Unary(ZAbsy.Power,ZAbsy.NameAppl("UNIT",[]))])))], [],ZAbsy.Tuple([ZAbsy.NameAppl("uid",[]), ZAbsy.NameAppl("ssn_tbl",[])])), ZAbsy.Tuple([ZAbsy.NameAppl("NO_USER",[]), ZAbsy.NameAppl("ssn_tbl",[])])))), ZAbsy.Tuple([ZAbsy.NameAppl("NO_USER",[]), ZAbsy.NameAppl("ssn_tbl",[])]))]), ZAbsy.NameAppl("_=_",[])))])),
(ZAbsy.EmbeddedText("NoText")),
(ZAbsy.SchemaText([ZAbsy.Direct(["isValidSession_"], ZAbsy.Unary(ZAbsy.Power,ZAbsy.Product([ZAbsy.NameAppl("SESSION_ID",[]), ZAbsy.NameAppl("ACCESS_TYPE",[]), ZAbsy.NameAppl("SESSION_TABLE",[])])))], [ZAbsy.Quantor(ZAbsy.Forall, [ZAbsy.Direct(["sid"], ZAbsy.NameAppl("SESSION_ID",[])), ZAbsy.Direct(["acc_typ"], ZAbsy.NameAppl("ACCESS_TYPE",[])), ZAbsy.Direct(["ssn_tbl"], ZAbsy.NameAppl("SESSION_TABLE",[]))], [], ZAbsy.Binary(ZAbsy.Iff,ZAbsy.Test(ZAbsy.Tuple([ZAbsy.NameAppl("sid",[]), ZAbsy.NameAppl("acc_typ",[]), ZAbsy.NameAppl("ssn_tbl",[])]), ZAbsy.NameAppl("isValidSession_",[])), ZAbsy.Test(ZAbsy.Tuple([ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("first",[]),ZAbsy.Binary(ZAbsy.Apply,ZAbsy.NameAppl("CheckValidofSession",[]),ZAbsy.Tuple([ZAbsy.NameAppl("sid",[]), ZAbsy.NameAppl("acc_typ",[]), ZAbsy.NameAppl("ssn_tbl",[])]))), ZAbsy.NameAppl("NO_USER",[])]), ZAbsy.NameAppl("_neq_",[]))))]))])